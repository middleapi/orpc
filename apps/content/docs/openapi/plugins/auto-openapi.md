---
title: Auto OpenAPI Plugin
description: Automatically generate OpenAPI documentation with sensible defaults - no manual metadata required!
---

# Auto OpenAPI Plugin

The **Auto OpenAPI Plugin** automatically generates OpenAPI documentation for your oRPC API with zero configuration required. It intelligently creates summaries, tags, and descriptions from your router structure, allowing you to get started quickly without manual metadata while still supporting full customization when needed.

::: info
This plugin extends the [OpenAPI Reference Plugin](/docs/openapi/plugins/openapi-reference) with automatic metadata generation. It relies on the [OpenAPI Generator](/docs/openapi/openapi-specification). Please review its documentation before using this plugin.
:::

## Key Features

- ðŸš€ **Zero Configuration**: Generate complete OpenAPI specs without manual metadata
- ðŸ·ï¸ **Auto-generated Summaries**: Creates human-readable summaries from procedure names (e.g., `products.list` â†’ "List Products")
- ðŸ“‚ **Auto-generated Tags**: Automatically groups endpoints by router structure
- ðŸ“ **Default Output Schemas**: Provides sensible defaults when output schemas aren't defined
- ðŸŽ¨ **UI Support**: Serves interactive documentation via Scalar or Swagger UI
- ðŸ”§ **Fully Customizable**: Override any auto-generated values with manual metadata

## Setup

```ts
import { ZodToJsonSchemaConverter } from '@orpc/zod/zod4'
import { AutoOpenAPIPlugin } from '@orpc/openapi/plugins'

const handler = new OpenAPIHandler(router, {
  plugins: [
    new AutoOpenAPIPlugin({
      schemaConverters: [
        new ZodToJsonSchemaConverter(),
      ],
      specGenerateOptions: {
        info: {
          title: 'My API',
          version: '1.0.0',
        },
      },
    }),
  ],
})
```

That's it! The plugin will automatically:

- Generate summaries from procedure paths
- Create tags from router structure
- Add default output schemas where missing
- Serve the API documentation at `/` (or your custom `docsPath`)
- Serve the OpenAPI spec at `/spec.json` (or your custom `specPath`)

## Auto-Generated Metadata

### Summaries

The plugin automatically generates human-readable summaries from procedure paths:

```ts
import { os } from '@orpc/server'

const router = {
  planet: {
    list: os.handler(async () => []), // â†’ "List Planets"
    find: os.handler(async () => {}), // â†’ "Find Planet"
    create: os.handler(async () => {}), // â†’ "Create Planet"
    update: os.handler(async () => {}), // â†’ "Update Planet"
    delete: os.handler(async () => {}), // â†’ "Delete Planet"
  },
  user: {
    profile: {
      get: os.handler(async () => {}), // â†’ "Get User Profile"
      update: os.handler(async () => {}), // â†’ "Update User Profile"
    },
  },
}
```

**Summary Generation Rules:**

- Capitalizes the first letter of each word
- Handles common CRUD operations (`list`, `find`, `get`, `create`, `update`, `delete`, `remove`)
- Pluralizes resources for "list" operations (e.g., "List Planets")
- Uses the last segment as the action, preceding segments as the resource

### Tags

Tags are automatically generated from the first segment of the procedure path:

```ts
import { os } from '@orpc/server'

const router = {
  planet: {
    list: os.handler(async () => []), // â†’ tags: ['planet']
  },
  user: {
    profile: {
      get: os.handler(async () => {}), // â†’ tags: ['user']
    },
  },
}
```

### Default Output Schemas

When a procedure doesn't have an explicit output schema, the plugin adds a generic `type()` schema by default. This ensures your OpenAPI spec is complete even when you haven't defined output types.

## Configuration Options

### Basic Configuration

```ts
import { ZodToJsonSchemaConverter } from '@orpc/zod/zod4'
import { AutoOpenAPIPlugin } from '@orpc/openapi/plugins'

const plugin = new AutoOpenAPIPlugin({
  // Required: Schema converters for your validation library
  schemaConverters: [
    new ZodToJsonSchemaConverter(),
  ],

  // OpenAPI spec generation options
  specGenerateOptions: {
    info: {
      title: 'My API',
      version: '1.0.0',
      description: 'Optional API description',
    },
    servers: [
      { url: 'https://api.example.com' },
    ],
  },
})
```

### Auto-Generation Controls

Control what gets auto-generated:

```ts
import { ZodToJsonSchemaConverter } from '@orpc/zod/zod4'
import { AutoOpenAPIPlugin } from '@orpc/openapi/plugins'

const plugin = new AutoOpenAPIPlugin({
  schemaConverters: [new ZodToJsonSchemaConverter()],

  // Enable/disable auto-generation features
  autoGenerateSummary: true, // default: true
  autoGenerateTags: true, // default: true
  autoGenerateDescription: false, // default: false

  // Disable default output schemas
  defaultOutputSchema: undefined, // default: type()
})
```

### Custom Paths

Customize where the documentation is served:

```ts
import { ZodToJsonSchemaConverter } from '@orpc/zod/zod4'
import { AutoOpenAPIPlugin } from '@orpc/openapi/plugins'

const plugin = new AutoOpenAPIPlugin({
  schemaConverters: [new ZodToJsonSchemaConverter()],

  docsPath: '/docs', // default: '/'
  specPath: '/openapi.json', // default: '/spec.json'
  docsTitle: 'API Documentation', // default: 'API Reference'
})
```

### UI Provider

Choose between Scalar or Swagger UI:

```ts
import { ZodToJsonSchemaConverter } from '@orpc/zod/zod4'
import { AutoOpenAPIPlugin } from '@orpc/openapi/plugins'

const plugin = new AutoOpenAPIPlugin({
  schemaConverters: [new ZodToJsonSchemaConverter()],

  docsProvider: 'swagger', // default: 'scalar'

  // Custom UI configuration
  docsConfig: async () => ({
    tryItOutEnabled: true,
    // ... other UI-specific options
  }),

  // Custom CDN URLs
  docsScriptUrl: 'https://custom.cdn.com/swagger-ui-bundle.js',
  docsCssUrl: 'https://custom.cdn.com/swagger-ui.css',
})
```

### Custom HTML Rendering

For complete control over the HTML output:

```ts
import { ZodToJsonSchemaConverter } from '@orpc/zod/zod4'
import { AutoOpenAPIPlugin } from '@orpc/openapi/plugins'
import type { OpenAPI } from '@orpc/contract'

const plugin = new AutoOpenAPIPlugin({
  schemaConverters: [new ZodToJsonSchemaConverter()],

  renderDocsHtml: (specUrl, title, head, scriptUrl, config, spec, docsProvider, cssUrl) => {
    // Return your custom HTML string
    return `<!DOCTYPE html>...`
  },
})
```

## Manual Metadata Override

You can override auto-generated metadata on any procedure:

```ts
import { os } from '@orpc/server'

const router = {
  products: {
    // Auto-generated summary and tags
    list: os.handler(async () => []),

    // Manual metadata - overrides auto-generation
    get: os
      .route({
        summary: 'Get Product by ID',
        description: 'Retrieves a specific product with all its details',
        tags: ['products', 'read'],
      })
      .handler(async () => ({})),

    // Mixed: manual summary, auto-generated tags
    search: os
      .route({
        summary: 'Search Products',
        // tags will be auto-generated from router structure
      })
      .handler(async () => []),
  },
}
```

**Precedence:**

- Manual metadata always takes precedence over auto-generated values
- If you provide `summary`, auto-generation for summary is skipped
- If you provide `tags`, auto-generation for tags is skipped
- If you provide `output`, default output schema is not added

## Complete Example

```ts
import { createServer } from 'node:http'
import { os } from '@orpc/server'
import { z } from 'zod'
import { ZodToJsonSchemaConverter } from '@orpc/zod/zod4'
import { AutoOpenAPIPlugin } from '@orpc/openapi/plugins'
import { OpenAPIHandler } from '@orpc/openapi/node'

// Define your router
const router = {
  products: {
    list: os
      .input(z.object({ limit: z.number().optional() }))
      .handler(async () => []),

    get: os
      .input(z.object({ id: z.string() }))
      .output(z.object({
        id: z.string(),
        name: z.string(),
        price: z.number(),
      }))
      .handler(async () => ({
        id: '1',
        name: 'Product',
        price: 100,
      })),
  },

  orders: {
    create: os
      .route({ summary: 'Create Order' }) // Manual summary
      .input(z.object({
        productId: z.string(),
        quantity: z.number(),
      }))
      .handler(async () => ({ orderId: '123' })),
  },
}

// Create handler with AutoOpenAPIPlugin
const handler = new OpenAPIHandler(router, {
  plugins: [
    new AutoOpenAPIPlugin({
      schemaConverters: [new ZodToJsonSchemaConverter()],
      specGenerateOptions: {
        info: {
          title: 'E-Commerce API',
          version: '1.0.0',
          description: 'API for managing products and orders',
        },
      },
      docsProvider: 'scalar', // or 'swagger'
    }),
  ],
})

// Start server
const server = createServer(async (req, res) => {
  const result = await handler.handle(req, res, { context: {} })

  if (!result.matched) {
    res.statusCode = 404
    res.end('Not Found')
  }
})

server.listen(3000, () => {
  console.log('ðŸš€ Server running at http://localhost:3000/')
  console.log('ðŸ“š API Docs: http://localhost:3000/')
  console.log('ðŸ“„ OpenAPI Spec: http://localhost:3000/spec.json')
})
```

## Advanced Usage

### Dynamic Configuration

Configuration options support dynamic values based on request context:

```ts
import { ZodToJsonSchemaConverter } from '@orpc/zod/zod4'
import { AutoOpenAPIPlugin } from '@orpc/openapi/plugins'

const plugin = new AutoOpenAPIPlugin({
  schemaConverters: [new ZodToJsonSchemaConverter()],

  docsTitle: async (options) => {
    // Access request context
    const env = options.request.headers.get('x-env') ?? 'development'
    return `${env.toUpperCase()} API Documentation`
  },

  specGenerateOptions: async (options) => {
    return {
      info: {
        title: 'My API',
        version: '1.0.0',
      },
      servers: [
        { url: new URL(options.request.url).origin },
      ],
    }
  },
})
```

### Custom Head Injection

Inject custom HTML into the documentation page:

```ts
import { ZodToJsonSchemaConverter } from '@orpc/zod/zod4'
import { AutoOpenAPIPlugin } from '@orpc/openapi/plugins'

const plugin = new AutoOpenAPIPlugin({
  schemaConverters: [new ZodToJsonSchemaConverter()],

  docsHead: `
    <link rel="stylesheet" href="/custom-styles.css">
    <meta name="theme-color" content="#ff6b6b">
  `,
})
```

## Limitations

1. **Summary generation** is optimized for common CRUD patterns and English naming conventions. Complex naming patterns or non-English names may not generate optimal summaries.

2. **Tags** are always generated from the first path segment only:
   - For paths like `user.profile.get`, only `'user'` is used as a tag
   - Procedures with a single segment (e.g., `ping`) will not receive auto-generated tags
   - You can override this by manually specifying tags in the route metadata

3. **Output schemas** default to a generic `type()` schema when not explicitly defined. This is intentional to ensure the OpenAPI spec is complete, but you should define explicit output schemas for production APIs. You can disable this by setting `defaultOutputSchema: undefined`.
